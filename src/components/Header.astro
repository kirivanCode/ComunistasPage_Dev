---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
import { SignedIn, SignedOut, UserButton, SignInButton } from "@clerk/astro/components";
import { useState } from 'react';
---

<header class="bg-white dark:bg-[#1F1F23] shadow-md">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
    <!-- Logo -->
    <a href="/" class="text-xl font-bold text-white hover:text-blue-600 transition">
      {SITE_TITLE}
    </a>

    <!-- Mobile menu button -->
    <button id="menu-btn" class="md:hidden text-white" onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <!-- Links (Desktop) -->
    <div class="hidden md:flex space-x-6 flex-1 justify-center pr-28">
      <HeaderLink href="/" class="text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Noticias</HeaderLink>
      <HeaderLink href="/blog" class="text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Miembros</HeaderLink>
      <HeaderLink href="/about" class="text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Acerca</HeaderLink>
      <HeaderLink href="/publicar" class="text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Publicar</HeaderLink>
    </div>

    <!-- Icons and Auth -->
    <div class="hidden md:flex items-center space-x-4">
      <a href="https://twitter.com/astrodotbuild" target="_blank" class="text-gray-600 dark:text-white hover:text-sky-500 transition">
        <span class="sr-only">Twitter</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor" class="icon icon-tabler icon-tabler-x">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M18 6l-12 12" /><path d="M6 6l12 12" />
        </svg>
      </a>
      <a href="https://github.com/withastro/astro" target="_blank" class="text-gray-600 dark:text-white hover:text-black dark:hover:text-white transition">
        <span class="sr-only">GitHub</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" stroke="currentColor" class="icon icon-tabler icon-tabler-brand-github">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
        </svg>
      </a>
      <SignedOut class="text-white">
        <SignInButton mode="modal" />
      </SignedOut>
      <SignedIn class="text-white">
        <UserButton />
      </SignedIn>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden hidden px-4 pt-2 pb-4 space-y-2 bg-white dark:bg-[#1F1F23]">
    <HeaderLink href="/" class="block text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Noticias</HeaderLink>
    <HeaderLink href="/blog" class="block text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Miembros</HeaderLink>
    <HeaderLink href="/about" class="block text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Acerca</HeaderLink>
    <HeaderLink href="/publicar" class="block text-gray-800 dark:text-gray-100 hover:text-blue-600 transition">Publicar</HeaderLink>
    <div class="flex space-x-4 mt-4">
      <SignedOut class="text-white">
        <SignInButton mode="modal" />
      </SignedOut>
      <SignedIn class="text-white">
        <UserButton />
      </SignedIn>
    </div>
  </div>
</header>
